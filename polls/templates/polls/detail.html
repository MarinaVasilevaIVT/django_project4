{% extends 'polls/base_generic.html' %}

{% block content %}
  <h1>{{ question.question_text }}</h1>

  <form action="{% url 'polls:vote' question.id %}" method="post">
    {% csrf_token %}
    <fieldset>
      <legend>Выберите один из вариантов:</legend>
      
      {% if error_message %}
        <p><strong>{{ error_message }}</strong></p>
      {% endif %}
      
      {% for choice in question.choice_set.all %}
        <div class="form-check">
          <input type="radio" name="choice" id="choice{{ forloop.counter }}" value="{{ choice.id }}" class="form-check-input">
          <label for="choice{{ forloop.counter }}" class="form-check-label">{{ choice.choice_text }}</label><br>
        </div>
      {% endfor %}
    </fieldset>
    
    <button type="submit" class="btn btn-primary">Голосовать</button>
  </form>

  <!-- Кнопка назад на главную -->
  <a href="{% url 'polls:index' %}" class="btn btn-secondary mt-3">Назад на главную</a>
{% endblock %}
